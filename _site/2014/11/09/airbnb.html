<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title> Comment nous avons scrapé les données d'Airbnb  - Data Le Temps</title>
		<!-- For responsive site
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
		-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="author" href="/humans.txt">
		<meta name="description" content="Description Goes Here">
		<link rel="stylesheet" href="/css/style.css">
		<!--[if IE 7]>
			<html class="ie7"> 
			<link rel="stylesheet" type="text/css" href="/css/font-awesome-ie7.min.css">
		<![endif]-->
		<!--[if IE 8]><html class="ie8"> <![endif]-->		
	    <!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->

		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
		<link rel="shortcut icon" href="http://www.letemps.ch/r/SysConfig/WebPortal/letemps/image/favicon/favicon.ico">	    
	</head>
	<body>
	<!-- Header
	    ================================================== -->
	<header>

	</header>

	<div class="top-strip"></div>
<main class="content">
    <section class="container">
    	<div class="row-fluid">
    		<article class="home-icon">
				<a href="/">
				 		  <img src="/img/log.png" width="295"/>
          
				</a><hr>
			</article>
			<article class="post">
				<h5>09 November 2014</h5><br>
				<h2 class="content">Comment nous avons scrapé les données d'Airbnb</h2>
				<section>
					<p><img src="/img/carte.png" alt="carte" />
<br /><br />
Dès demain et dès maintenant sur le site web du Temps, vous pourrez lire une enquête de notre journaliste <a href="https://twitter.com/julieconti">Julie Conti</a> sur Airbnb à Genève. L’article s’intéresse au marché de la location à court terme au travers des annonces de cette plate-forme communautaire fondée en 2008 par des Américains, et qui connaît un immense succès dans le monde entier. </p>

<hr />

<center><blockquote class="twitter-tweet" lang="fr"><p>&quot;Nicolas Sarkozy n&#39;a jamais varié dans ses convictions&quot; dit P.Goujon <a href="https://twitter.com/hashtag/NSParis?src=hash">#NSParis</a></p>&mdash; Adrien Gaboulaud (@adriengaboulaud) <a href="https://twitter.com/adriengaboulaud/status/530777634155028480">7 Novembre 2014</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script></center>
<hr />

<p>Tout est partie d’un questionnement. </p>

<blockquote>
  <p>Dans de nombreuses grandes villes -  Paris, New-York, Berlin - Airbnb est accusé de confisquer le marché locatif. Et qu’en est-il à Genève ? Les résidences principales mises en location sur Airbnb le sont-elles réellement ? Airbnb est-il encore ce site “cool” de partage de bons plans entre particuliers ou a-t-il été en main par des intermédiaires ou des acteurs professionnels ? </p>
</blockquote>

<h3 id="une-enqute-avec-les-data">Une enquête avec les data</h3>

<p>Pour répondre à ces questions, nous aurions pu, en surfant sur le site, en lisant les commentaires, aller récupérer des informations et des témoignages au cas par cas et enrichir tout ça d’avis d’experts.</p>

<p>**Nous avons essayé de travailler différemment, en nous appuyant sur les données, pour tenter une approche plus globale, plus “scientifique”. Et plus “data”. **</p>

<p>Voici donc le mode d’emploi de cette enquête.</p>

<p>Première étape, récupérer les données**, la matière première indispensable. En utilisant l’<a href="https://www.outwit.com/products/hub/">excellent outil Outwit Hub</a>, nous avons commencé par “scraper”, c’est à dire aspirer sur le site Airbnb les quelques 2000 annonces publiées sur Genève et ses environs (notamment en France voisine).</p>

<p>Scraper, comment ça marche ? Nous avons “programmé” un petit robot sous la forme d’un petit bout de script, un extracteur, à qui l’on a demandé de récupérer les informations qui nous intéressaient (prix, profil du locataire, notation, nombre de chambres…) sur l’une des pages de AirBn. Nous avons appliqué notre petit robot à l’ensemble des fiches concernant les annonces de Genève et des environs. Et hop, quelque heures plus tard, le tour était joué. </p>

<h3 id="un-tableau-de-1000-lignes">Un tableau de 1000 lignes</h3>

<p>Au final, nous avons récupéré un tableau Excel de 2000 lignes. Nous avons gardé uniquement les annonces de  Genève et ses environs… soit un petit millier de lignes. Bien sûr, cette “capture” n’est qu’une photographie à un instant T du marché locatif d’Airbnb. Mais à l’inverse de sites d’annonces d’objets (type le Bon Coin), le site d’Airbnb ne change pas à un rythme aussi rapide.</p>

<p>Deuxième étape, <strong>nous avons questionné nos données</strong>.</p>

<p>En utilisant Excel via la fonction de tri et surtout les tableaux croisés dynamiques, nous avons donc pu “interroger” nos données, de la même manière qu’un journaliste interroge une personne interviewée. Nous avons aussi pu obtenir par exemple le profil des locations, le prix médian (90 euros) ou moyen (110 euros). 
<br /><br />
<img src="/img/carte1.png" alt="" />
<br /><br />
Toujours dans cette logique d’interrogation des données, nous avons tenté de placer automatiquement les annonces sur une carte, pour voir quels quartiers étaient les plus prisés. Si le site de Airbnb n’indique pas précisément l’adresse, on trouve cependant dans le code HTML les coordonnées précises… qui nous permet donc de localiser toutes nos annonces sur la carte (via Fusion Tables ou CartoDB par exemple). En soit rien de très surprenant, on trouve évidemment une densité très importante d’offres dans le centre ville. </p>

<p>Nous avons ensuite utilisé le système du “Geocoding Inversé” pour retrouver les adresses précises. Là aussi, un petit mot d’explication. Le géocoding simple, c’est le principe de base de Google <a href="https://www.google.fr/?gws_rd=ssl#q=rue+de+lyon+23+geneve&amp;spell=1">quand vous lui donnez une adresse et qu’il la place sur une carte</a>. Eh bien, le geocing inversé, c’est le contraire : cela permet d’entrer une latitude et une longitude (ex : 46.208574, 6.136784) pour retrouver l’adresse précise (ex: 23 rue de Lyon, Genève). Nous avons ainsi pu récupérer l’adresse précise des appartements. Et même faire davantage : en croisant ces données avec le registre foncier de la ville de Genève, nous avons pu identifier les propriétaires qui nous intéressaient. 
<br /><br />
<img src="/img/carte2.png" alt="" />
<br /><br />
Dernier point de l“interrogation” de nos données : l’analyse du profil des propriétaires. Sur les 753 propriétaires qui se répartissent le marché Airbnb sur Genève, une centaine louent plusieurs domiciles. </p>

<h3 id="faites-connaissance-avec-jasmina-et-dimitri">Faites connaissance avec Jasmina et Dimitri</h3>

<p>Et parmi, deux cas très saillants sont ressortis immédiatement : un certain Dimitri (en fait une société) qui propose une petite vingtaine d’annonces et une certaine Jasmina, notre baronne de Airbnb, qui “gère” pas moins de 38 offres sur le grand Genève et 87 sur toute la Suisse. En utilisant de manière un peu agile la recherche Google, nous avons réussi à retrouver le véritable nom de ces deux personnes. Nous les avons ensuite contactées au téléphone, et c’est là que la partie du journalisme traditionnel prend le relais sur la partie data. </p>

<p>Et si la suite vous intéresse, c’est à lire dans le papier de Julie Conti et demain dans la version papier…</p>

					<hr>
				</section>
				<section style="font-weight:bold; margin-bottom: 2em;">
					 
							<a rel="prev" class="a-hover"href="/2014/11/01/welcome.html"><i class="icon-double-angle-left"></i> Open source</a>
						
						
				</section>
			</article>
		</div>
	</section>
</main>


	<footer>
	
	</footer>

	<!-- Footer
	    ================================================== -->

	<!-- Javascripts 
	    ================================================= -->
	<script src="/js/jq1uery.min.js"></script>
	<script src="/js/custom.js"></script>

    <!-- Analytics
    ================================================== -->
    <script>
		// analytics code
    </script>	
	</body>
</html>